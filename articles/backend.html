<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Understanding the backend </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Understanding the backend ">
    <meta name="generator" content="docfx 2.51.0.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h2 id="understanding-the-backend">Understanding the backend</h2>

<p>The backend server uses <a href="https://grpc.io/">gRPC</a> (Google remote procedure calls) to define its network interface.
In the <code>Server</code> folder, you can find all of the projects that make the server work.</p>
<h3 id="protofiles">ProtoFiles</h3>
<p>This project defines the <code>.proto</code> files which define the network calls that can be made. To understand these files,
take a look at the <a href="https://developers.google.com/protocol-buffers/docs/proto3">protobuf language guide</a>.</p>
<p>A basic implementation looks like this:</p>
<pre><code>service MyService {
  rpc Login(LoginRequest) returns(LoginResponse) {};
}

message LoginRequest {
  string username = 1;
  string password = 2;
}

message LoginResponse {
  string isSuccess = 1;
}
</code></pre>
<p>This example defines a method called <code>Login()</code> which takes a <code>LoginRequest</code> as input and responds with a <code>LoginResponse</code>. Protobuf will automatically compile these
network definitions into <code>.cs</code> files that can be used within the backend server as well as the main game library. If you make changes to any of the <code>.proto</code> files,
building this repository will re-generate the <code>.cs</code> files.</p>
<h3 id="protogenerated">ProtoGenerated</h3>
<p>This project contains the generated files from the <code>ProtoFiles</code> project. This project should never be modified directly and is automatically populated when the
<code>ProtoFiles</code> project is build.</p>
<h3 id="subterfugeserver">SubterfugeServer</h3>
<p>This project is the game server. Running this project will start a local server on your own machine. This is helpful for debugging as you are able to set breakpoints
and debug the incoming requests in order to make modifications to the server. The server allos users to register, add friends, join games, and submit game events. The server
will also perform server-side validation to ensure that the game-events that users are submitting are valid.</p>
<p>While you can run the server locally, you also need to have the database running in order to save data.
To run the server locally, ensure that you have <a href="https://docs.docker.com/get-docker/">docker installed</a> as well as <a href="https://docs.docker.com/compose/install/">docker-compose</a>.
Start the database with <code>docker-compose up -d db</code>.</p>
<p>Alternatively, start both the database and the server at the same time with <code>docker-compose up -d</code>.</p>
<h3 id="subterfugeclient">SubterfugeClient</h3>
<p>This is a gRPC client that automatically applies authorization headers to requests. This client library should be used for clients to avoid any hassle.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
